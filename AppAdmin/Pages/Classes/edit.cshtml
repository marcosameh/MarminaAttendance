@page "/class/edit/{id}"
@model App.UI.Pages.Classes.editModel
@{
}
<style>
    .servant-item {
        text-align: center;
        margin-bottom: 20px;
    }

    .servant-photo {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        object-fit: cover;
        margin-bottom: 5px;
    }

    .servant-name {
        display: block;
        margin-top: 5px;
        font-weight: bold;
    }

    .week-list {
        margin-top: 10px;
        list-style: none;
        padding: 0;
        margin: 0;
    }

        .week-list li {
            margin-bottom: 5px;
        }

        .week-list label {
            margin-bottom: 0;
        }
</style>



<div class="container">
    <h1>تعديل بيانات الفصل</h1>
    <form method="post">
        <div class="form-group">
            <label for="className">اسم الفصل</label>
            <input type="text" class="form-control" asp-for="CurrentClass.Name">
        </div>
        <div class="form-group">
            <label for="intercessor">شفيع الفصل</label>
            <input type="text" class="form-control" asp-for="CurrentClass.Intercessor">
        </div>
        <div class="form-group">
            <label for="classTime">وقت الخدمة</label>
            <select class="form-control" asp-for="CurrentClass.TimeId">
                @foreach (var Time in Model.TimeList)
                {
                    <option value="@Time.Id">@Time.Time1</option>

                }

            </select>
        </div>
        <h2>الخدام</h2>
        @*  <div class="row">
        @foreach (var servant in Model.CurrentClass.Servants)
        {
        <div class="col-md-4">
        <div class="card">
        <img class="card-img-top" src="/photos/الخدام/@servant.Photo" alt="Example Servant 1">
        <div class="card-body">
        <h5 class="card-title">@servant.Name</h5>
        <ul>
        @foreach (var week in Model.Weeks)
        {
        <li><label><input class="form-check-input" type="checkbox" name="week[]" @(servant.ServantWeek.Where(x=>x.WeekId==week.Id).Any()?"checked":"") value="@week.Id"> @week.Name</label></li>

        }

        </ul>

        </div>
        </div>
        </div>

        }

        </div>*@

        <div class="row">
            @foreach (var servant in Model.CurrentClass.Servants)
            {
                <div class="col-sm-3">
                    <div class="servant-item">
                        <label>  
                            <img src="/photos/الخدام/@servant.Photo" class="servant-photo">
                            <span class="servant-name"> @servant.Name</span>
                        </label>
                        <ul class="week-list">
                            @foreach (var week in Model.Weeks)
                            {
                                <li><label><input class="form-check-input" type="checkbox" name="ServantWeeks[@servant.Id]" @(servant.ServantWeek.Where(x=>x.WeekId==week.Id).Any()?"checked":"") value="@week.Id"> @week.Name</label></li>

                            }
                        </ul>
                    </div>
                </div>
            }
        </div>




        <br>
        <button type="submit" class="btn btn-primary">Save Changes</button>
    </form>
</div>

@section Scripts{


    <!-- Bootstrap 4 JS (required for some features) -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    }